input {
    stdin {
        codec => "json"
    }
}

output {
    if [type] == 1 {
        doris {
            http_hosts => ["http://${DORIS_HOST}:${DORIS_FE_PORT}"]
            user => "${DORIS_USER}"
            password => "${DORIS_PASSWORD}"
            db => "logstash_db"
            table => "timezone"
            headers => {
            "format" => "json"
            "read_json_by_line" => "true"
            "time_zone" => "Asia/Shanghai"
            }
        }
    }
    else if [type] == 2 {
        doris {
            http_hosts => ["http://${DORIS_HOST}:${DORIS_FE_PORT}"]
            user => "${DORIS_USER}"
            password => "${DORIS_PASSWORD}"
            db => "logstash_db"
            table => "timezone"
            headers => {
            "format" => "json"
            "read_json_by_line" => "true"
            "time_zone" => "+08:00"
            }
        }
    }
}
